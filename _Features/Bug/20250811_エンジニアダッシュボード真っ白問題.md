# エンジニアダッシュボード真っ白問題

## 作成日時
作成日: 2025年8月11日
報告者: ユーザー
対応者: AI開発チーム
ステータス: 解決済み

---

## 問題の概要
URL: http://localhost:3000/engineer/dashboard にアクセスすると画面が真っ白になる

## 発生状況
- **発生日時**: 2025年8月11日
- **発生環境**: 開発環境（Docker）
- **影響範囲**: エンジニア用画面のダッシュボードアクセス
- **優先度**: 高

## 問題の詳細

### 症状
1. `/engineer/dashboard`にアクセスすると何も表示されない
2. コンソールエラーは発生していない
3. 404エラーとして処理されている

### 再現手順
1. ブラウザで http://localhost:3000/engineer/dashboard を開く
2. 画面が真っ白になることを確認

## 原因分析

### 根本原因
エンジニア用画面の簡素化対応（「エンジニアはスキルシートを編集することしかできません」という要件）により、以下の変更を実施：
1. `EngineerDashboard`コンポーネントへの参照を削除
2. `/engineer/dashboard`ルートを削除
3. デフォルトルートを`/engineer/skill-sheet`に変更

しかし、既存のリンクやブックマークからのアクセスを考慮していなかった。

### 技術的詳細
- `App.tsx`から`EngineerDashboard`のimportを削除
- ルート定義から`<Route path="dashboard" element={<EngineerDashboard />} />`を削除
- 結果として、`/engineer/dashboard`へのアクセスが404となり、React Routerがマッチするルートを見つけられず真っ白な画面になった

## 解決方法

### 実施した対策
1. **リダイレクトルートの追加**
   ```tsx
   <Route path="dashboard" element={<Navigate to="/engineer/skill-sheet" replace />} />
   ```
   
2. **適切なルーティング構成**
   ```tsx
   <Route path="/engineer" element={<EngineerLayout />}>
     <Route index element={<Navigate to="/engineer/skill-sheet" replace />} />
     <Route path="dashboard" element={<Navigate to="/engineer/skill-sheet" replace />} />
     <Route path="skill-sheet" element={<SkillSheetEdit />} />
     <Route path="skill-sheet/preview" element={<SkillSheetPreview />} />
   </Route>
   ```

### 変更したファイル
- `frontend/src/App.tsx` - リダイレクトルートを追加

## テスト結果
- [x] `/engineer/dashboard`へのアクセスが`/engineer/skill-sheet`にリダイレクトされることを確認
- [x] `/engineer`へのアクセスが`/engineer/skill-sheet`にリダイレクトされることを確認
- [x] スキルシート編集画面が正常に表示されることを確認
- [x] プレビュー画面への遷移が正常に動作することを確認

## 今後の予防策

1. **ルート変更時のチェックリスト作成**
   - 既存のルートを削除する前に、そのルートへの参照を全て確認
   - リダイレクトの必要性を検討
   - ユーザーへの影響を評価

2. **E2Eテストの充実**
   - 主要なURLへのアクセステストを追加
   - ルーティングの変更時は必ずテストを実行

3. **段階的な移行**
   - 非推奨期間を設けてからルートを削除
   - コンソールに非推奨警告を表示

## 関連情報
- ナレッジ: `_Knowledge/エンジニア画面簡素化に伴うルーティング変更.md`
- GitHub Issue: #1 エンジニア用UI実装
- 関連PR: （未作成）

## 学んだこと
- URLの後方互換性は重要
- ユーザーのブックマークや既存のリンクを考慮する必要がある
- 大きな画面構成の変更時は、適切なリダイレクトを設定することが重要