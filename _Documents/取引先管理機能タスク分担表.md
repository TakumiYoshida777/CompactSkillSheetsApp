# 取引先管理機能 タスク分担表

## エンジニアA（バックエンド主担当）タスクリスト

### Day 1（月曜日）- 8時間
- [ ] 09:00-10:00: 取引先企業CRUDエンドポイント設計
- [ ] 10:00-12:00: BusinessPartnerController実装
- [ ] 13:00-15:00: バリデーション・エラーハンドリング実装
- [ ] 15:00-17:00: 単体テスト作成
- [ ] 17:00-18:00: APIドキュメント更新

### Day 2（火曜日）- 8時間
- [ ] 09:00-11:00: アクセス権限管理API実装
- [ ] 11:00-12:00: エンジニア表示フィルタリング実装
- [ ] 13:00-15:00: NGリスト管理機能実装
- [ ] 15:00-17:00: トランザクション処理実装
- [ ] 17:00-18:00: 統合テスト作成

### Day 3（水曜日）- 8時間
- [ ] 09:00-11:00: 取引先ユーザー管理API拡張
- [ ] 11:00-12:00: メール通知機能実装
- [ ] 13:00-15:00: バッチ処理実装（定期権限更新）
- [ ] 15:00-17:00: パフォーマンス最適化
- [ ] 17:00-18:00: APIセキュリティ強化

### Day 4（木曜日）- 8時間
- [ ] 09:00-10:00: ログ出力強化
- [ ] 10:00-12:00: 監査ログ実装
- [ ] 13:00-15:00: APIレート制限実装
- [ ] 15:00-17:00: データマイグレーション作成
- [ ] 17:00-18:00: シードデータ作成

### Day 5（金曜日）- 8時間
- [ ] 09:00-10:00: 統合テスト実施（共同）
- [ ] 10:00-11:00: バグ修正
- [ ] 11:00-12:00: パフォーマンステスト
- [ ] 13:00-14:00: APIドキュメント最終化
- [ ] 14:00-15:00: バックエンドコードレビュー
- [ ] 15:00-16:00: リファクタリング
- [ ] 16:00-17:00: デプロイ設定
- [ ] 17:00-18:00: 本番環境テスト（共同）

**合計作業時間: 40時間**

---

## エンジニアB（フロントエンド主担当）タスクリスト

### Day 1（月曜日）- 8時間
- [ ] 09:00-10:00: API連携用サービス層設計
- [ ] 10:00-12:00: BusinessPartnerService実装
- [ ] 13:00-15:00: Zustandストア実装
- [ ] 15:00-17:00: 一覧画面API連携
- [ ] 17:00-18:00: エラーハンドリング追加

### Day 2（火曜日）- 8時間
- [ ] 09:00-11:00: 登録画面API連携
- [ ] 11:00-12:00: フォームバリデーション強化
- [ ] 13:00-15:00: 詳細画面API連携
- [ ] 15:00-17:00: 編集機能実装
- [ ] 17:00-18:00: ローディング・エラー表示改善

### Day 3（水曜日）- 8時間
- [ ] 09:00-11:00: 取引先ユーザー管理画面実装
- [ ] 11:00-12:00: ユーザー作成モーダル実装
- [ ] 13:00-15:00: アクセス権限設定画面実装
- [ ] 15:00-17:00: エンジニア選択コンポーネント実装
- [ ] 17:00-18:00: NGリスト管理画面実装

### Day 4（木曜日）- 8時間
- [ ] 09:00-11:00: 検索・フィルタリング機能実装
- [ ] 11:00-12:00: ページネーション実装
- [ ] 13:00-15:00: ソート機能実装
- [ ] 15:00-17:00: 一括操作機能実装
- [ ] 17:00-18:00: エクスポート機能実装

### Day 5（金曜日）- 8時間
- [ ] 09:00-10:00: 統合テスト実施（共同）
- [ ] 10:00-11:00: バグ修正
- [ ] 11:00-12:00: UIテスト作成
- [ ] 13:00-14:00: E2Eテスト作成・実施
- [ ] 14:00-15:00: 操作マニュアル作成
- [ ] 15:00-16:00: フロントエンドコードレビュー
- [ ] 16:00-17:00: リファクタリング
- [ ] 17:00-18:00: 本番環境テスト（共同）

**合計作業時間: 40時間**

---

## 成果物チェックリスト

### エンジニアA 成果物
#### コード
- [ ] backend/src/controllers/businessPartnerController.ts
- [ ] backend/src/services/businessPartnerService.ts
- [ ] backend/src/services/accessControlService.ts
- [ ] backend/src/services/engineerFilterService.ts
- [ ] backend/src/services/ngListService.ts
- [ ] backend/src/services/emailNotificationService.ts
- [ ] backend/src/middleware/validationMiddleware.ts
- [ ] backend/src/middleware/transactionMiddleware.ts
- [ ] backend/src/middleware/rateLimiter.ts
- [ ] backend/src/utils/auditLogger.ts
- [ ] backend/src/batch/permissionUpdateJob.ts

#### テスト
- [ ] backend/src/controllers/__tests__/businessPartnerController.test.ts
- [ ] backend/src/services/__tests__/businessPartnerService.test.ts
- [ ] backend/src/services/__tests__/accessControlService.test.ts
- [ ] backend/src/integration/__tests__/businessPartner.integration.test.ts

#### ドキュメント
- [ ] backend/docs/API.md
- [ ] backend/docs/DATABASE.md
- [ ] backend/docs/DEPLOYMENT.md

#### 設定ファイル
- [ ] backend/prisma/migrations/xxx_business_partner.sql
- [ ] backend/prisma/seed/businessPartner.ts

### エンジニアB 成果物
#### コード
- [ ] frontend/src/services/businessPartnerService.ts
- [ ] frontend/src/stores/useBusinessPartnerStore.ts
- [ ] frontend/src/pages/BusinessPartners/BusinessPartnerList.tsx（更新）
- [ ] frontend/src/pages/BusinessPartners/BusinessPartnerRegister.tsx（更新）
- [ ] frontend/src/pages/BusinessPartners/BusinessPartnerDetail.tsx（更新）
- [ ] frontend/src/pages/BusinessPartners/BusinessPartnerEdit.tsx（新規）
- [ ] frontend/src/pages/BusinessPartners/ClientUserManagement.tsx（新規）
- [ ] frontend/src/pages/BusinessPartners/AccessControlPanel.tsx（新規）
- [ ] frontend/src/pages/BusinessPartners/NGListManagement.tsx（新規）

#### コンポーネント
- [ ] frontend/src/components/BusinessPartner/CreateUserModal.tsx
- [ ] frontend/src/components/BusinessPartner/EngineerSelector.tsx
- [ ] frontend/src/components/BusinessPartner/SearchFilter.tsx
- [ ] frontend/src/components/BusinessPartner/BulkActions.tsx
- [ ] frontend/src/components/BusinessPartner/ExportButton.tsx
- [ ] frontend/src/components/common/Pagination.tsx
- [ ] frontend/src/components/common/SortableTable.tsx

#### テスト
- [ ] frontend/src/pages/BusinessPartners/__tests__/BusinessPartnerList.test.tsx
- [ ] frontend/src/pages/BusinessPartners/__tests__/ClientUserManagement.test.tsx
- [ ] frontend/src/services/__tests__/businessPartnerService.test.ts
- [ ] frontend/e2e/businessPartner.spec.ts

#### ドキュメント
- [ ] frontend/docs/USER_MANUAL.md
- [ ] frontend/docs/COMPONENT_GUIDE.md

---

## 進捗管理表

### 日次進捗記録
| 日付 | エンジニアA進捗率 | エンジニアB進捗率 | 全体進捗率 | 備考 |
|------|------------------|------------------|------------|------|
| Day 1 | 0% | 0% | 0% | キックオフ |
| Day 2 | - | - | - | - |
| Day 3 | - | - | - | - |
| Day 4 | - | - | - | - |
| Day 5 | - | - | - | 完了予定 |

### リスク・課題管理
| 日付 | 種別 | 内容 | 対応者 | ステータス |
|------|------|------|--------|------------|
| - | - | - | - | - |

---

## コミュニケーションルール

### 1. 定例ミーティング
- **朝会（9:00-9:15）**: 本日のタスク確認、ブロッカー共有
- **夕会（17:00-17:15）**: 進捗確認、明日の準備

### 2. 即時連携が必要なケース
- APIインターフェース変更時
- 共通コンポーネント修正時
- ブロッカー発生時
- 仕様確認が必要な時

### 3. コードレビュールール
- PRは作成後1時間以内にレビュー開始
- 重大な指摘は即座に修正
- 軽微な指摘は後日対応可

### 4. ブランチルール
```bash
# エンジニアA
git checkout -b feature/business-partner-backend

# エンジニアB  
git checkout -b feature/business-partner-frontend

# マージは両者確認の上実施
git checkout develop
git merge --no-ff feature/business-partner-backend
git merge --no-ff feature/business-partner-frontend
```

---

## 品質チェックリスト

### コード品質
- [ ] ESLint/Prettierエラーなし
- [ ] TypeScriptコンパイルエラーなし
- [ ] console.log削除済み
- [ ] 不要なコメント削除済み
- [ ] 適切なエラーハンドリング

### テスト品質
- [ ] 単体テストカバレッジ80%以上
- [ ] 統合テスト主要フロー網羅
- [ ] E2Eテスト正常系完了
- [ ] エラーケーステスト実施

### セキュリティ
- [ ] 認証・認可チェック実装
- [ ] SQLインジェクション対策
- [ ] XSS対策
- [ ] CSRF対策
- [ ] 機密情報ハードコーディングなし

### パフォーマンス
- [ ] N+1問題解決
- [ ] 適切なインデックス設定
- [ ] 不要なAPI呼び出しなし
- [ ] 適切なキャッシュ戦略

---

作成日: 2025年1月19日
最終更新: 2025年1月19日
バージョン: 1.0.0