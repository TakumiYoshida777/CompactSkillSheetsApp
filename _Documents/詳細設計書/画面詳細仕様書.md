# 詳細設計書 - 画面詳細仕様書

## 1. 画面設計概要

### 1.1 設計方針
| 項目 | 内容 |
|------|------|
| デザインシステム | Material-UI v5準拠 |
| レスポンシブ対応 | PC（1920px）、タブレット（768px）、スマートフォン（375px） |
| アクセシビリティ | WCAG 2.1 AA準拠 |
| ブラウザ対応 | Chrome、Safari、Firefox最新2バージョン |
| 色覚対応 | カラーユニバーサルデザイン |

### 1.2 共通UI仕様
```typescript
// 共通カラーパレット
const theme = {
  primary: '#1976d2',      // メインブランドカラー
  secondary: '#dc004e',    // アクセントカラー
  success: '#2e7d33',      // 成功
  warning: '#ed6c02',      // 警告
  error: '#d32f2f',        // エラー
  info: '#0288d1',         // 情報
  background: '#fafafa',   // 背景
  surface: '#ffffff',      // カード背景
  text: {
    primary: '#212121',
    secondary: '#757575',
    disabled: '#bdbdbd'
  }
}

// 共通スペーシング
const spacing = {
  xs: '4px',
  sm: '8px',
  md: '16px',
  lg: '24px',
  xl: '32px',
  xxl: '48px'
}
```

## 2. 認証・アカウント管理画面

### 2.1 ログイン画面
```
画面ID: AUTH001
URL: /login
権限: 全員
```

#### 画面構成
```
┌─────────────────────────────────────┐
│           ロゴ・サービス名              │
├─────────────────────────────────────┤
│                                    │
│     ┌─ ログインフォーム ─┐            │
│     │ メールアドレス      │            │
│     │ [input field]     │            │
│     │                   │            │
│     │ パスワード         │            │
│     │ [password field]  │            │
│     │                   │            │
│     │ ☐ ログイン状態保持  │            │
│     │                   │            │
│     │ [ログインボタン]     │            │
│     │                   │            │
│     │ パスワードを忘れた方 │            │
│     └───────────────────┘            │
│                                    │
│           新規登録はこちら              │
└─────────────────────────────────────┘
```

#### 機能仕様
- **バリデーション**：リアルタイムバリデーション（Yup使用）
- **エラー表示**：フィールド下にエラーメッセージ
- **ローディング**：ログイン中はボタンを無効化、スピナー表示
- **セキュリティ**：10回失敗でアカウントロック

#### レスポンシブ対応
```css
/* PC（1200px以上） */
.login-container {
  max-width: 400px;
  margin: 0 auto;
  padding: 48px 24px;
}

/* タブレット（768px-1199px） */
@media (max-width: 1199px) {
  .login-container {
    max-width: 360px;
    padding: 32px 16px;
  }
}

/* スマートフォン（767px以下） */
@media (max-width: 767px) {
  .login-container {
    max-width: 100%;
    padding: 24px 16px;
  }
}
```

### 2.2 ユーザー登録画面
```
画面ID: AUTH002
URL: /register
権限: 全員
```

#### 画面構成（ステップ形式）
```
Step 1: 基本情報
┌─────────────────────────────────────┐
│ ステップインジケーター [1]─[2]─[3]     │
├─────────────────────────────────────┤
│ 基本情報の入力                      │
│                                    │
│ 氏名 *                             │
│ [input field]                     │
│                                    │
│ 企業メールアドレス *                │
│ [input field]                     │
│                                    │
│ 個人メールアドレス *                │
│ [input field]                     │
│                                    │
│ 電話番号                           │
│ [input field]                     │
│                                    │
│ [次へ] [キャンセル]                  │
└─────────────────────────────────────┘

Step 2: パスワード設定
Step 3: 企業選択・確認
```

## 3. エンジニア管理画面

### 3.1 エンジニア一覧画面
```
画面ID: ENG001
URL: /engineers
権限: 管理者、営業
```

#### 画面レイアウト
```
┌─────────────────────────────────────────────────────────────┐
│ ヘッダー [ロゴ] [ナビ] [ユーザーメニュー]                      │
├─────────────────────────────────────────────────────────────┤
│ パンくずリスト: ホーム > エンジニア一覧                        │
├─────────────────────────────────────────────────────────────┤
│                                                            │
│ ┌─ フィルター ─┐    ┌─ アクション ─┐                      │
│ │ ステータス    │    │ [新規登録]    │                      │
│ │ [dropdown]   │    │ [一括操作▼]   │                      │
│ │              │    └──────────────┘                      │
│ │ スキル        │                                           │
│ │ [multi-select]│    ┌─ 表示設定 ─┐                        │
│ │              │    │ [リスト/カード] │                      │
│ │ 稼働可能日     │    │ [表示件数▼]   │                      │
│ │ [date range] │    └──────────────┘                      │
│ │              │                                           │
│ │ [検索実行]    │                                           │
│ └─────────────┘                                           │
│                                                            │
│ ┌─ エンジニア一覧 ─────────────────────────────────────┐    │
│ │ ☐ 田中太郎    | JavaScript,React | 待機中 | 2024/02/01│    │
│ │ ☐ 佐藤花子    | Python,Django   | 稼働中 | -        │    │
│ │ ☐ 鈴木一郎    | Java,Spring     | 待機予定| 2024/03/15│    │
│ │ ...                                                  │    │
│ └─────────────────────────────────────────────────────┘    │
│                                                            │
│ ┌─ ページネーション ─┐                                      │
│ │ [前へ] 1 2 3 4 5 [次へ]  (150件中 1-20件表示)           │
│ └───────────────────┘                                      │
└─────────────────────────────────────────────────────────────┘
```

#### 機能仕様
- **検索・フィルタリング**：リアルタイム検索、複数条件指定
- **ソート**：名前、スキル、ステータス、稼働可能日
- **一括操作**：複数選択での状態変更、一括メール送信
- **表示切替**：リスト表示、カード表示
- **エクスポート**：CSV、Excel出力

#### 状態管理
```typescript
interface EngineerListState {
  engineers: Engineer[]
  loading: boolean
  filters: {
    status: string
    skills: string[]
    availableDate: DateRange
    search: string
  }
  pagination: {
    page: number
    limit: number
    total: number
  }
  selectedEngineers: string[]
  viewMode: 'list' | 'card'
  sortBy: string
  sortOrder: 'asc' | 'desc'
}
```

### 3.2 エンジニア詳細画面
```
画面ID: ENG002
URL: /engineers/{engineerId}
権限: 管理者、営業、本人
```

#### 画面構成（タブ構成）
```
┌─────────────────────────────────────────────────────────────┐
│ ヘッダー + パンくずリスト                                      │
├─────────────────────────────────────────────────────────────┤
│                                                            │
│ ┌─ エンジニア基本情報 ─┐  ┌─ クイックアクション ─┐           │
│ │ 📷 田中太郎          │  │ [編集]              │           │
│ │    tanaka@xx.com    │  │ [アプローチ]         │           │
│ │    JavaScript,React │  │ [プロジェクト追加]    │           │
│ │    待機中           │  │ [ステータス変更]     │           │
│ │    2024/02/01稼働可  │  └─────────────────────┘           │
│ └────────────────────┘                                     │
│                                                            │
│ ┌─ タブナビゲーション ─────────────────────────────────────┐  │
│ │ [基本情報] [スキルシート] [プロジェクト履歴] [アプローチ履歴]│  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                            │
│ ┌─ タブコンテンツエリア ─────────────────────────────────┐    │
│ │                                                      │    │
│ │  [選択されたタブの内容がここに表示]                     │    │
│ │                                                      │    │
│ └─────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

### 3.3 スキルシート編集画面
```
画面ID: ENG003
URL: /engineers/{engineerId}/skill-sheet
権限: 本人、管理者、営業
```

#### 画面構成（アコーディオン形式）
```
┌─────────────────────────────────────────────────────────────┐
│ ヘッダー + 保存状況インジケーター                               │
├─────────────────────────────────────────────────────────────┤
│                                                            │
│ ┌─ 進捗インジケーター ─┐                                    │
│ │ 入力進捗: 75% [■■■□]                                     │
│ │ 最終更新: 2024/01/01 10:00                               │
│ └─────────────────────┘                                    │
│                                                            │
│ ▼ 基本情報                                                  │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ 概要・自己PR                                             │  │
│ │ [textarea - 2000文字以内]                                │  │
│ │                                                         │  │
│ │ 総経験年数                                               │  │
│ │ [number input] 年                                       │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                            │
│ ▼ プログラミング言語                                         │
│ ┌─────────────────────────────────────────────────────────┐  │
│ │ JavaScript  レベル:4  経験年数:5年  [削除]                │  │
│ │ TypeScript  レベル:3  経験年数:2年  [削除]                │  │
│ │ [+ スキル追加]                                           │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                            │
│ ▼ フレームワーク                                            │
│ ▼ データベース                                              │
│ ▼ クラウドサービス                                          │
│ ▼ 対応可能ロール・フェーズ                                   │
│                                                            │
│ ┌─ 保存アクション ─┐                                       │
│ │ [下書き保存] [公開] [プレビュー]                           │
│ └─────────────────┘                                       │
└─────────────────────────────────────────────────────────────┘
```

## 4. プロジェクト管理画面

### 4.1 プロジェクト一覧画面
```
画面ID: PRJ001
URL: /projects
権限: 管理者、営業、エンジニア（参画中のみ）
```

#### 画面構成（カンバンボード形式）
```
┌─────────────────────────────────────────────────────────────┐
│ ヘッダー                                                     │
├─────────────────────────────────────────────────────────────┤
│ ┌─ フィルター ─┐  ┌─ 表示設定 ─┐  ┌─ アクション ─┐        │
│ │ 期間         │  │ [リスト]    │  │ [新規作成]   │        │
│ │ ステータス   │  │ [カンバン]  │  │ [一括操作]   │        │
│ │ 規模         │  │ [カレンダー] │  └─────────────┘        │
│ └─────────────┘  └─────────────┘                          │
├─────────────────────────────────────────────────────────────┤
│                                                            │
│ ┌─ 進行中 ─┐  ┌─ 待機予定 ─┐  ┌─ 完了 ─┐                │
│ │ ECサイト  │  │ 新規開発   │  │ 管理系  │                │
│ │ 開発      │  │ プロジェクト│  │ システム│                │
│ │ 👤×8     │  │ 👤×12     │  │ 👤×5   │                │
│ │ ~3/31    │  │ 4/1~      │  │ 完了    │                │
│ │          │  │           │  │         │                │
│ │ [詳細]   │  │ [詳細]    │  │ [詳細] │                │
│ └─────────┘  └──────────┘  └────────┘                │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 プロジェクト詳細画面
```
画面ID: PRJ002
URL: /projects/{projectId}
権限: 管理者、営業、参画エンジニア
```

## 5. アプローチ・営業管理画面

### 5.1 アプローチ履歴画面
```
画面ID: APP001
URL: /approaches
権限: 管理者、営業
```

#### 画面構成（タイムライン形式）
```
┌─────────────────────────────────────────────────────────────┐
│ ヘッダー                                                     │
├─────────────────────────────────────────────────────────────┤
│ ┌─ フィルター ─┐                     ┌─ 統計 ─┐             │
│ │ 期間         │                     │ 送信:50 │             │
│ │ ステータス   │                     │ 開封:30 │             │
│ │ 対象企業     │                     │ 返信:15 │             │
│ │ 種別         │                     │ 成約:5  │             │
│ └─────────────┘                     └────────┘             │
├─────────────────────────────────────────────────────────────┤
│                                                            │
│ ┌─ アプローチタイムライン ──────────────────────────────────┐  │
│ │                                                         │  │
│ │ 📧 2024/01/15 10:00                                    │  │
│ │ ✉️ 株式会社A様へアプローチ送信                             │  │
│ │ 対象: 田中太郎さん、佐藤花子さん                          │  │
│ │ 件名: 新規プロジェクトのご提案                             │  │
│ │ ステータス: 送信済み                                      │  │
│ │ [詳細] [再送] [フォローアップ]                            │  │
│ │                                                         │  │
│ │ 📧 2024/01/14 14:30                                    │  │
│ │ ✉️ 株式会社B様へ定期配信                                  │  │
│ │ 対象: 5名のエンジニア                                     │  │
│ │ ステータス: 開封済み                                      │  │
│ │ [詳細] [効果測定]                                        │  │
│ │                                                         │  │
│ └─────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 5.2 アプローチ作成画面
```
画面ID: APP002
URL: /approaches/new
権限: 管理者、営業
```

#### 画面構成（ウィザード形式）
```
Step 1: 対象選択
┌─────────────────────────────────────────────────────────────┐
│ ステップ: [1.対象選択] → [2.メッセージ] → [3.確認]            │
├─────────────────────────────────────────────────────────────┤
│                                                            │
│ ┌─ 送信先選択 ─┐                                           │
│ │ ○ 取引先企業                                             │
│ │ ○ フリーランス                                           │
│ └─────────────┘                                           │
│                                                            │
│ ┌─ 企業選択 ─────────────────────────────────────────────┐  │
│ │ [検索ボックス]                                          │  │
│ │                                                         │  │
│ │ ☐ 株式会社A    最終アプローチ: 2023/12/01                │  │
│ │ ☐ 株式会社B    最終アプローチ: 2024/01/05                │  │
│ │ ☐ 株式会社C    最終アプローチ: なし                       │  │
│ └─────────────────────────────────────────────────────────┘  │
│                                                            │
│ ┌─ エンジニア選択 ───────────────────────────────────────┐    │
│ │ [スキルフィルター] [ステータスフィルター]                  │    │
│ │                                                         │    │
│ │ ☐ 田中太郎    JavaScript,React    待機中                │    │
│ │ ☐ 佐藤花子    Python,Django      待機予定               │    │
│ │ ☐ 鈴木一郎    Java,Spring        待機中                │    │
│ └─────────────────────────────────────────────────────────┘    │
│                                                            │
│ [戻る] [次へ]                                              │
└─────────────────────────────────────────────────────────────┘
```

## 6. 取引先向け画面

### 6.1 取引先ダッシュボード
```
画面ID: CLI001
URL: /client/dashboard
権限: 取引先ユーザー
```

#### 画面構成
```
┌─────────────────────────────────────────────────────────────┐
│ ヘッダー [ロゴ] [企業名] [ユーザーメニュー]                     │
├─────────────────────────────────────────────────────────────┤
│                                                            │
│ ┌─ サマリー ─────────────────────────────────────────────┐    │
│ │ 📊 利用可能エンジニア: 25名                               │    │
│ │ 🔍 今月の検索回数: 15回                                   │    │
│ │ 📧 アプローチ送信: 3件                                    │    │
│ │ 📅 最終更新: 2024/01/15                                 │    │
│ └─────────────────────────────────────────────────────────┘    │
│                                                            │
│ ┌─ クイックアクション ─┐  ┌─ 新着情報 ─┐                 │
│ │ [エンジニア検索]      │  │ ・新規3名追加│                 │
│ │ [待機エンジニア一覧]  │  │ ・スキル更新 │                 │
│ │ [アプローチ履歴]      │  │ ・プロジェクト│                 │
│ │ [条件保存・通知設定]  │  │  完了1件    │                 │
│ └─────────────────────┘  └─────────────┘                 │
│                                                            │
│ ┌─ 最近の活動 ─────────────────────────────────────────┐      │
│ │ 2024/01/15 Reactエンジニアを検索しました                 │      │
│ │ 2024/01/14 田中太郎さんにアプローチしました               │      │
│ │ 2024/01/13 新規エンジニア3名が追加されました             │      │
│ └─────────────────────────────────────────────────────────┘      │
└─────────────────────────────────────────────────────────────┘
```

### 6.2 エンジニア検索画面（取引先用）
```
画面ID: CLI002
URL: /client/engineers/search
権限: 取引先ユーザー
```

## 7. 管理者画面

### 7.1 管理者ダッシュボード
```
画面ID: ADM001
URL: /admin/dashboard
権限: 管理者
```

#### 画面構成（グリッドレイアウト）
```
┌─────────────────────────────────────────────────────────────┐
│ 管理者ヘッダー                                               │
├─────────────────────────────────────────────────────────────┤
│ ┌─ KPI ─┐ ┌─ KPI ─┐ ┌─ KPI ─┐ ┌─ KPI ─┐               │
│ │契約企業│ │月間売上│ │アクティブ│ │システム│               │
│ │ 120社 │ │￥2.5M │ │ユーザー │ │稼働率  │               │
│ │ +5    │ │ +15%  │ │ 1,250  │ │99.9%  │               │
│ └───────┘ └───────┘ └────────┘ └───────┘               │
│                                                            │
│ ┌─ 売上推移グラフ ───────┐ ┌─ アラート ─────────────┐      │
│ │                       │ │ ⚠️ 未収金企業: 2社       │      │
│ │     📊               │ │ 🔧 メンテナンス予定      │      │
│ │                       │ │ 📊 容量使用率: 85%      │      │
│ └───────────────────────┘ └─────────────────────────┘      │
│                                                            │
│ ┌─ 最新活動 ─────────────────────────────────────────────┐    │
│ │ 2024/01/15 企業A 新規契約                               │    │
│ │ 2024/01/15 企業B アカウントロック解除                   │    │
│ │ 2024/01/14 システムメンテナンス完了                     │    │
│ └─────────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

## 8. 共通コンポーネント仕様

### 8.1 ヘッダーコンポーネント
```typescript
interface HeaderProps {
  user: User
  notifications: Notification[]
  onLogout: () => void
}

// 構成要素
- ロゴ・サービス名
- ナビゲーションメニュー
- 通知アイコン（バッジ付き）
- ユーザーメニュー（ドロップダウン）
```

### 8.2 サイドナビゲーション
```typescript
interface NavigationItem {
  id: string
  label: string
  icon: string
  path: string
  children?: NavigationItem[]
  permissions: string[]
}

// 権限に応じたメニュー表示
const navigationItems: NavigationItem[] = [
  {
    id: 'dashboard',
    label: 'ダッシュボード',
    icon: 'dashboard',
    path: '/dashboard',
    permissions: ['all']
  },
  {
    id: 'engineers',
    label: 'エンジニア管理',
    icon: 'people',
    path: '/engineers',
    permissions: ['admin', 'sales']
  }
]
```

### 8.3 データテーブルコンポーネント
```typescript
interface DataTableProps<T> {
  data: T[]
  columns: ColumnDefinition<T>[]
  loading: boolean
  pagination: PaginationProps
  selection?: SelectionProps
  sorting?: SortingProps
  filtering?: FilteringProps
}

// 機能
- ソート（昇順・降順）
- フィルタリング
- ページネーション
- 行選択（単一・複数）
- 列の表示・非表示
- CSVエクスポート
```

### 8.4 フォームコンポーネント
```typescript
// 基本フォーム要素
- TextInput
- NumberInput
- DatePicker
- Dropdown
- MultiSelect
- FileUpload
- RichTextEditor

// バリデーション
- リアルタイムバリデーション
- エラーメッセージ表示
- フィールドレベル・フォームレベル
```

### 8.5 モーダル・ダイアログ
```typescript
interface ModalProps {
  open: boolean
  title: string
  size: 'sm' | 'md' | 'lg' | 'xl'
  onClose: () => void
  children: React.ReactNode
}

// 種類
- 確認ダイアログ
- フォームモーダル
- 詳細表示モーダル
- アラートダイアログ
```

## 9. レスポンシブ対応仕様

### 9.1 ブレークポイント
```scss
$breakpoints: (
  xs: 0px,      // スマートフォン
  sm: 600px,    // 小型タブレット
  md: 900px,    // タブレット
  lg: 1200px,   // デスクトップ
  xl: 1536px    // 大型デスクトップ
);
```

### 9.2 レイアウト調整
```scss
// スマートフォン対応
@media (max-width: 599px) {
  .main-layout {
    .sidebar {
      transform: translateX(-100%);
      &.open {
        transform: translateX(0);
      }
    }
    
    .content {
      margin-left: 0;
      padding: 16px;
    }
    
    .data-table {
      overflow-x: auto;
    }
  }
}
```

## 10. アクセシビリティ対応

### 10.1 キーボード操作
- Tab順序の適切な設定
- フォーカス表示の明確化
- ショートカットキー対応

### 10.2 スクリーンリーダー対応
- aria-label、aria-describedby設定
- セマンティックHTML使用
- 代替テキスト設定

### 10.3 色覚対応
- 色のみに依存しない情報伝達
- 十分なコントラスト比確保
- カラーユニバーサルデザイン対応

この画面詳細仕様書により、一貫性のあるUI/UXを実現し、開発効率を向上させることができます。